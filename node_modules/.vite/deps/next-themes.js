"use client";
import {
  require_react
} from "./chunk-ZMLY2J2T.js";
import {
  __toESM
} from "./chunk-4B2QHNJT.js";

// node_modules/next-themes/dist/index.mjs
var t = __toESM(require_react(), 1);
var M = (e, r, s, u, m, d, l, h) => {
  let a = document.documentElement, v = ["light", "dark"];
  function p(c) {
    (Array.isArray(e) ? e : [e]).forEach((y) => {
      let k = y === "class", S = k && d ? m.map((f) => d[f] || f) : m;
      k ? (a.classList.remove(...S), a.classList.add(d[c] || c)) : a.setAttribute(y, c);
    }), R(c);
  }
  function R(c) {
    h && v.includes(c) && (a.style.colorScheme = c);
  }
  function i() {
    return window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";
  }
  if (u) p(u);
  else try {
    let c = localStorage.getItem(r) || s, y = l && c === "system" ? i() : c;
    p(y);
  } catch (c) {
  }
};
var b = ["light", "dark"];
var I = "(prefers-color-scheme: dark)";
var O = typeof window == "undefined";
var x = t.createContext(void 0);
var U = { setTheme: (e) => {
}, themes: [] };
var z = () => {
  var e;
  return (e = t.useContext(x)) != null ? e : U;
};
var J = (e) => t.useContext(x) ? t.createElement(t.Fragment, null, e.children) : t.createElement(V, { ...e });
var N = ["light", "dark"];
var V = ({ forcedTheme: e, disableTransitionOnChange: r = false, enableSystem: s = true, enableColorScheme: u = true, storageKey: m = "theme", themes: d = N, defaultTheme: l = s ? "system" : "light", attribute: h = "data-theme", value: a, children: v, nonce: p, scriptProps: R }) => {
  let [i, c] = t.useState(() => H(m, l)), [w, y] = t.useState(() => i === "system" ? E() : i), k = a ? Object.values(a) : d, S = t.useCallback((n) => {
    let o = n;
    if (!o) return;
    n === "system" && s && (o = E());
    let T = a ? a[o] : o, C = r ? W(p) : null, P = document.documentElement, L = (g) => {
      g === "class" ? (P.classList.remove(...k), T && P.classList.add(T)) : g.startsWith("data-") && (T ? P.setAttribute(g, T) : P.removeAttribute(g));
    };
    if (Array.isArray(h) ? h.forEach(L) : L(h), u) {
      let g = b.includes(l) ? l : null, D = b.includes(o) ? o : g;
      P.style.colorScheme = D;
    }
    C == null || C();
  }, [p]), f = t.useCallback((n) => {
    let o = typeof n == "function" ? n(i) : n;
    c(o);
    try {
      localStorage.setItem(m, o);
    } catch (T) {
    }
  }, [i]), A = t.useCallback((n) => {
    let o = E(n);
    y(o), i === "system" && s && !e && S("system");
  }, [i, e]);
  t.useEffect(() => {
    let n = window.matchMedia(I);
    return n.addListener(A), A(n), () => n.removeListener(A);
  }, [A]), t.useEffect(() => {
    let n = (o) => {
      o.key === m && (o.newValue ? c(o.newValue) : f(l));
    };
    return window.addEventListener("storage", n), () => window.removeEventListener("storage", n);
  }, [f]), t.useEffect(() => {
    S(e != null ? e : i);
  }, [e, i]);
  let Q = t.useMemo(() => ({ theme: i, setTheme: f, forcedTheme: e, resolvedTheme: i === "system" ? w : i, themes: s ? [...d, "system"] : d, systemTheme: s ? w : void 0 }), [i, f, e, w, s, d]);
  return t.createElement(x.Provider, { value: Q }, t.createElement(_, { forcedTheme: e, storageKey: m, attribute: h, enableSystem: s, enableColorScheme: u, defaultTheme: l, value: a, themes: d, nonce: p, scriptProps: R }), v);
};
var _ = t.memo(({ forcedTheme: e, storageKey: r, attribute: s, enableSystem: u, enableColorScheme: m, defaultTheme: d, value: l, themes: h, nonce: a, scriptProps: v }) => {
  let p = JSON.stringify([s, r, d, e, h, l, u, m]).slice(1, -1);
  return t.createElement("script", { ...v, suppressHydrationWarning: true, nonce: typeof window == "undefined" ? a : "", dangerouslySetInnerHTML: { __html: `(${M.toString()})(${p})` } });
});
var H = (e, r) => {
  if (O) return;
  let s;
  try {
    s = localStorage.getItem(e) || void 0;
  } catch (u) {
  }
  return s || r;
};
var W = (e) => {
  let r = document.createElement("style");
  return e && r.setAttribute("nonce", e), r.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")), document.head.appendChild(r), () => {
    window.getComputedStyle(document.body), setTimeout(() => {
      document.head.removeChild(r);
    }, 1);
  };
};
var E = (e) => (e || (e = window.matchMedia(I)), e.matches ? "dark" : "light");
export {
  J as ThemeProvider,
  z as useTheme
};
//# sourceMappingURL=next-themes.js.map
